这是一门自动化大二下的选修课，但考虑到优化在整个自动化学科中的地位以及在很多领域的应用，这门课其实非常有必要学。鉴于授课老师黄老师上的非常好，再像嵌入式、检测技术、模电一样教大家咋学显得有点班门弄斧了 :huaji:所以要问学习方法是什么的话，那就是上课好好听讲！
下面就给大家一些推荐材料，顺便整理整理一些知识重点，可以作为大家期末复习的材料，也可以作为运筹学初学者的概览。

笔者寒假里为了打美赛自学过一点运筹学和博弈论（结果嘛...我们队根本没选运筹优化类的问题），不过感觉运筹学真的还蛮有意思的，以后看看有没有机会深入研究吧，顺便附上一些当时的自学材料。
[运筹学教程（第5版） (胡运权 郭耀煌 龚益鸣 程佳惠 陈秉正) (z-lib.org).pdf|attachment](upload://jF6sS9P53yG9qwcRAo20M72bEq3.pdf) (67.3 MB)
[运筹学 第四版 (刁在筠 刘桂真 戎晓霞 王光辉) (z-lib.org).pdf|attachment](upload://j77ZbliyXuXlzgB1e9f9GShdgfA.pdf) (56.5 MB)

同时开学时惊奇发现第二本书就是教材 :huanhu:但是我准备美赛时基本学的是第一本，不过anyway，运筹学的基本内容就那么些吧

然后重点是关于这门课一些经典问题的介绍，大家期末复习or平时休闲or下几届同学预习的时候看着图一乐就行 :cheems:

# 1 线性规划部分

## 1.1 标准化LP问题
$$
\begin{cases} 
max \quad z = -x_{1} + x_{2} + x_{3}\\ 
s.t \quad 2x_{1} + 3x_{2} + 4x_{3} \geq 3\\ 
\qquad -3x_{1} + 4x_{2}  \leq 1\\ 
\qquad -4x_{2} + 2x_{3}  = -1\\ 
\qquad x_{1}   \geq 0\\
 \qquad x_{2}   \leq 0\\
\end{cases} 
$$


[highlight]**分析**：**化为标准形式注意以下几点**[/highlight]
1. 目标函数应该化成min形式，若为max所有取反即可
2. 所有非大于等于0的变量，应该用两个大于等于0的变量代替，若变量小于等于0，则由该变量变号代替（anyway，所有变量都要是正数）
3. 不等式约束改为等式约束，增减变量即可



**解答：令 $x_{2} = -x_{2}^{'}  , x_{3} = x_{4} - x_{5}$** 
$$
\begin{cases} 
min \quad -z = x_{1} + x_{2}^{'} - x_{4} + x_{5}\\ 
s.t \quad 2x_{1} - 3x_{2}^{'} + 4x_{4} - 4x_{5} - x{6} =  3\\ 
\qquad -3x_{1} - 4x_{2}^{'}  + x_{7} =  1\\ 
\qquad 4x_{2}^{'} + 2x_{4} - 2x_{5} = -1\\ 
\qquad x_{1},x_{2}^{'},x_{3},x_{4},x_{5},x_{6},x_{7}   \geq 0\\
\end{cases} 
$$

##  1.2 LP问题的求解
### 方法一：图解法
利用约束条件画出可行域，利用目标函数平移求解（略）

了解一下基本解和基本可行解的概念，例如在下面的LP问题中
$$
\begin{cases} 
min \quad z = x_{1} - x_{2}\\ 
s.t  -2x_{1} + x_{2} + x_{3}  \qquad  \qquad =  2\\ 
\qquad\quad x_{1} - 2x_{2}  \qquad+ x_{4}   \quad =  2\\ 
\qquad\quad x_{1} + x_{2}  \qquad  \qquad+x_{5} = 5\\ 
\qquad\quad x_{1},x_{2},x_{3},x_{4},x_{5}   \geq 0\\
\end{cases} 
$$
根据LP的约束矩阵
$$
\begin{bmatrix}
-2 & 1 & 1 & 0 & 0 \\
1 & -2 & 0 & 1 & 0 \\
1 & 1 & -0 & 0 & 1 \\
\end{bmatrix}
$$
不难发现选取变量 $x_{3},x_{4},x_{5}$ 有一组基为
$$
\begin{bmatrix}
 1 & 0 & 0 \\
  0 & 1 & 0 \\
 0 & 0 & 1 \\
\end{bmatrix}
$$
他对应的基本解为 $x^{1} = (0,0,2,2,5)^{T}$ ，所有变量非负，这是一组 [highlight]**基本可行解**[/highlight]
类似的，选取变量 $x_{1},x_{4},x_{5}$ 也可以得到一组基
$$
\begin{bmatrix}
 -2 & 0 & 0 \\
 1 & 1 & 0 \\
 1 & 0 & 1 \\
\end{bmatrix}
$$
他对应的基本解为 $x^{2} = (-1,0,0,3,6)^{T}$ ，存在负的变量，这是一组 [highlight]**基本解**[/highlight]，不是[highlight]**可行解**[/highlight]
当然，在图示法中是非常容易理解的， [highlight]**基本可行解**[/highlight]是图中的可行域的顶点，而 [highlight]**基本解**[/highlight]是所有线的交点，只不过交点在可行域上的是基本可行解。

### 方法二：单纯形法（Simplex Method）与两阶段法 
原理：对于一个LP问题，单纯形法的思路是先找到一个基本可行解，判断它是否是最优解，如果不是，那么就去找一个更好的基本可行解，再进行判别，不断迭代直到找到最优解为止。具体的原理推导关注书本P19-25页，写的非常详细了。（btw，个人认为之前作业二第一题证明可行域非空条件下两种可能结果那道题非常棒，可以说也是单纯形法里面的一个小定理和经典结论。）

 [highlight]**单纯性方法求解步骤**[/highlight]
* 找一个初始可行解（一般先通过矩阵的初等变换简单化简一下）
* 求出典式和检验数
* 求最大检验数，记为 $\zeta_{k} = max\{\zeta_{j}|j = 1,2,3...n\}$ ，若最大检验数小于0，则已经找到最优解
* 若 $A_{k} \leq 0$ ，原问题无解
* 继续求  $ min\{\frac{b_{i}}{a_{ik}}|a_{ik}>0,i = 1,2,3...m\} = \frac{b_{r}}{a_{rk}}$
* $A_{k}$ 代替$A_{B_{r}}$ 得到新的基，回到第二步

但是，初始解有时候并不容易找到，因此我们还需要使用其他的方法，即两阶段法。

* 第一阶段：增加人工变量，构造辅助问题（min g = 人工变量之和）（几种情况：1、g > 0 无解； 2、g = 0 && 人工变量全部是非基变量，此时得到原问题最优解，将人工变量对应列去掉，进入第二阶段； 3、g = 0 && 有些人工变量还是基变量，说明单纯表中有些约束方程多余，删去即可）
* 第二阶段：按照单纯形法求解的方式来求解就行

拿个习题举例
$$
\begin{cases} 
min \quad z = 4x_{1} + x_{2}\\ 
s.t \quad 3x_{1} + x_{2}   =  3\\ 
\qquad 4x_{1} + 3x_{2}  \geq  6\\ 
\qquad x_{1} + 2x_{2}  \leq 3\\ 
\qquad x_{1},x_{2}   \geq 0\\
\end{cases} 
$$

标准化无需多言，直接给出标准化结果
$$
\begin{cases} 
min \quad z = 4x_{1} + x_{2}\\ 
s.t \quad 3x_{1} + x_{2}   =  3\\ 
\qquad 4x_{1} + 3x_{2} - x_{3} =  6\\ 
\qquad x_{1} + 2x_{2}  +x_{4}  = 3\\ 
\qquad x_{1},x_{2},x_{3},x_{4}   \geq 0\\
\end{cases} 
$$
第一阶段，添加辅助变量，求解辅助问题，画出单纯形表

|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{5}$ | $x_{6}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -4      | -1      | 0       | 0       | 0       | 0       | 0    |
| $g$     | 0       | 0       | 0       | 0       | -1      | -1      | 0    |
| $x_{4}$ | 1       | 2       | 0       | 1       | 0       | 0       | 3    |
| $x_{5}$ | 3       | 1       | 0       | 0       | 1       | 0       | 3    |
| $x_{6}$ | 4       | 3       | -1      | 0       | 0       | 1       | 6    |


清空检验数，初始化
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{5}$ | $x_{6}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -4      | -1      | 0       | 0       | 0       | 0       | 0    |
| $g$     | 7       | 4       | -1      | 0       | 0       | 0       | 9    |
| $x_{4}$ | 1       | 2       | 0       | 1       | 0       | 0       | 3    |
| $x_{5}$ | 3       | 1       | 0       | 0       | 1       | 0       | 3    |
| $x_{6}$ | 4       | 3       | -1      | 0       | 0       | 1       | 6    |

 $\zeta_{k}$ = 7, $x_{1}$ 进基，计算 $min\{\frac{3}{1},\frac{3}{3},\frac{6}{4}\}$ = 1,$x_{5}$ 出基
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{5}$ | $x_{6}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -4      | -1      | 0       | 0       | 0       | 0       | 0    |
| $g$     | 0       | 5/3     | -1      | 0       | -7/3    | 0       | 2    |
| $x_{4}$ | 0       | 5/3     | 0       | 1       | -1/3    | 0       | 2    |
| $x_{1}$ | 1       | 1/3     | 0       | 0       | 1/3     | 0       | 1    |
| $x_{6}$ | 0       | 5/3     | -1      | 0       | -4/3    | 1       | 2    |

 $\zeta_{k}$ = 5/3, $x_{2}$ 进基，计算 $min\{\frac{2}{5/3},\frac{1}{1/3},\frac{2}{5/3}\}$ = 6/5,$x_{6}$ 出基
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{5}$ | $x_{6}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -4      | -1      | 0       | 0       | 0       | 0       | 0    |
| $g$     | 0       | 0       | 0       | 0       | -1      | -1      | 0    |
| $x_{4}$ | 0       | 0       | 1       | 1       | 1       | -1      | 0    |
| $x_{1}$ | 1       | 0       | 1/5     | 0       | 3/5     | 0       | 3/5  |
| $x_{2}$ | 0       | 1       | -3/5    | 0       | -4/5    | 3/5     | 6/5  |

g = 0，同时人工变量均为非基变量，辅助LP最优解得到，得到一个可行解为 $\{\frac{3}{5},\frac{6}{5},0,0,0,0\}$, 进入第二阶段

|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -4      | -1      | 0       | 0       | 0    |
| $x_{4}$ | 0       | 0       | 1       | 1       | 0    |
| $x_{1}$ | 1       | 0       | 1/5     | 0       | 3/5  |
| $x_{2}$ | 0       | 1       | -3/5    | 0       | 6/5  |

清空检验数，初始化
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | 0       | 0       | 1/5     | 0       | 18/5 |
| $x_{4}$ | 0       | 0       | 1       | 1       | 0    |
| $x_{1}$ | 1       | 0       | 1/5     | 0       | 3/5  |
| $x_{2}$ | 0       | 1       | -3/5    | 0       | 6/5  |

 $\zeta_{k}$ = 1/5, $x_{3}$ 进基，计算 $min\{\frac{3/5}{1/5},\frac{6/5}{-3/5},\frac{0}{1}\}$ = 0（前提分母大于0）,$x_{4}$ 出基
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | 0       | 0       | 0       | -1/5    | 18/5 |
| $x_{3}$ | 0       | 0       | 1       | 3/5     | 0    |
| $x_{1}$ | 1       | 0       | 0       | -1/5    | 3/5  |
| $x_{2}$ | 0       | 1       | 0       | 3/5     | 6/5  |

 $\zeta_{k} \leq 0$ ，over！

PS：这题助教写的答案有一点小笔误，不过完全无伤大雅哈哈 

## 1.3 对偶问题

这一部分老师讲的相当精彩，从运输问题入手，再到怎么写对偶问题，对偶单纯形法，深入理解直接看老师课程录像就行啦（这里就给大家简单举例说明吧

### 如何写一个对偶问题？
$$
\begin{cases} 
min \quad z = 4x_{1} + x_{2}\\ 
s.t \quad 3x_{1} + x_{2}   =  3\\ 
\qquad 4x_{1} + 3x_{2} - x_{3} =  6\\ 
\qquad x_{1} + 2x_{2}  +x_{4}  = 3\\ 
\qquad x_{1},x_{2},x_{3},x_{4}   \geq 0\\
\end{cases} 
$$

* 先写出目标函数、约束方程矩阵
* 将矩阵和变量转置即可

解答： $c = (4, 1, 0, 0)^{T} , b = (3, 6, 3)^{T} $ 

$$
A = 
\begin{bmatrix}
 3 & 1 & 0 & 0 \\
  4 & 3 & -1 &  0\\
 1 & 2 & 0 & 1 \\
\end{bmatrix}
$$

则对偶问题为
$$
\begin{cases} 
max \quad
\left[
 \begin{matrix}
   3 & 6 & 3\\

  \end{matrix}
  \right] \left[
 \begin{matrix}
   w_{1} \\
   w_{2} \\
   w_{3}
  \end{matrix}
  \right]\\ 
s.t \quad \left[
 \begin{matrix}
   3 & 4 & 1\\
   1 & 3 & 2\\
   0 & -1 & 0\\
0 & 0 & 1
  \end{matrix}
  \right] \left[
 \begin{matrix}
   w_{1} \\
   w_{2} \\
   w_{3}
  \end{matrix}
  \right]
\leq
 \begin{bmatrix}
   4 \\
   1 \\
   0 \\
   0
  \end{bmatrix}
\\ 

\end{cases} 
$$

[highlight]研究对偶理论能给我们带来很多好的性质，例如[/highlight]

* 如果一个LP问题为最优解，则他的对偶问题也有最优解，且他们的最优值相等
* 给定一个原始LP问题和它的对偶，总是属于以下三种情况之一：（1）有最优解；（2）问题无界；（3）无可行解
* 对于原问题和对偶问题的最优解，如果一个对偶问题中的约束取严格不等式，原始问题中的对应变量必须取值为0；如果一个问题中非负变量取正值，另一个问题中对应约束必取等式。

### 对偶单纯形法
 [highlight]**单纯性方法求解步骤**[/highlight]
* 列出初始单纯形表，含有原始问题与对偶问题的一个基本可行解
* 求 $b_{r} = min\{b_{i}|i = 1,2,3...m\}$ ，若 $b_{r} \geq 0 $ ，则已经找到最优解
* 若 $a_{rj} \geq 0, j = 1,2...n$ ，原问题无解
* 求  $ min\{\frac{\zeta_{j}}{a_{rj}}|a_{rj}<0,i = 1,2,3...n\} = \frac{\zeta_{k}}{a_{rk}}$
* $A_{rk}$ 做一次旋转变换，回到第二步

还是拿这个LP问题举例
$$
\begin{cases} 
min \quad z = 4x_{1} + x_{2}\\ 
s.t \quad 3x_{1} + x_{2}   =  3\\ 
\qquad 4x_{1} + 3x_{2}  \geq  6\\ 
\qquad x_{1} + 2x_{2}  \leq 3\\ 
\qquad x_{1},x_{2}   \geq 0\\
\end{cases} 
$$

给出标准化结果
$$
\begin{cases} 
min \quad z = 4x_{1} + x_{2}\\ 
s.t \quad 3x_{1} + x_{2}   =  3\\ 
\qquad 4x_{1} + 3x_{2} - x_{3} =  6\\ 
\qquad x_{1} + 2x_{2}  +x_{4}  = 3\\ 
\qquad x_{1},x_{2},x_{3},x_{4}   \geq 0\\
\end{cases} 
$$

或许在原先的两阶段法中，我们需要再加两个变量，但在对偶单纯形法中，我们只需对于第二个约束两端乘以（-1）即可。
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -1      | 0       | 0       | 0       | 3    |
| $x_{2}$ | 3       | 1       | 0       | 0       | 3    |
| $x_{3}$ | 5       | 0       | 1       | 0       | 3    |
| $x_{4}$ | -5      | 0       | 0       | 1       | -3   |

$b_{r} = -3$ ， $x_{4}$ 为离基变量 ， $min\{\frac{-1}{-5}\} = 0.8$ , $x_{1}$ 进基，进行旋转（anyway把他理解为高斯消去就好）
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | 0       | 0       | 0       | -1/5    | 18/5 |
| $x_{2}$ | 0       | 1       | 0       | 3/5     | 6/5  |
| $x_{3}$ | 0       | 0       | 1       | 1       | 0    |
| $x_{1}$ | 1       | 0       | 0       | -1/5    | 3/5  |

$b > 0$ 已经得到最优解，over！

## 1.4 灵敏度分析

可以理解为给个别数据一个扰动，解的变动如何。在很多问题中都非常常见，这由于篇幅原因，就不举例了，基本方法就是改变某一变量的值，看最优解的变化就行了。

# 2 整数规划

连续的问题和离散的问题在很多方面，都是有本质上的区别的，这里也一样。求解ILP问题相较于普通LP问题是更加困难的，主要的两种求解方法是割平面法和分枝定界法。

## 2.1 割平面法
既然我们求解ILP问题难，求解普通LP问题比较方便，那么我们何不做一次有益的尝试先考虑LP问题呢？
因此，割平面法的核心思想是先松弛我们的ILP问题为LP问题，然后如果LP问题的最优解不是整数，那么我们增加一个线性约束条件，再求松弛问题的解，依次下去，直到得到最优整数解为止。
那么，现在的问题是如何增加这个约束条件，然后从代数结构上解释的话，可以将最优解部分进行取整，然后得到将原约束方程减去整数解的相关方程，得到新的条件。当然，在图示法中就是考虑一个靠近LP问题最优解的整数点，然后生成一个新的约束，使得所有可行整数解不删除，同时删掉这个LP问题最优解。
如果觉得还有点抽象的话，我们直接拿作业题举个例子。
$$
\begin{cases} 
min \quad z = x_{1} - 5x_{2}\\ 
s.t \quad x_{1} + 2x_{2}   \leq  8\\ 
\qquad x_{1} - x_{2}  \geq 4  \\  
\qquad x_{1},x_{2}   \geq 0 ，且为整数\\
\end{cases} 
$$

第一步当然是标准化，然后得到松弛LP问题
$$
\begin{cases} 
min \quad z = x_{1} - 5x_{2}\\ 
s.t \quad x_{1} + 2x_{2}  + x_{4} =  8\\ 
\qquad x_{1} - x_{2}  -x_{3} = 4  \\  
\qquad x_{1},x_{2} ,x_{3},x_{4}   \geq 0 \\
\end{cases} 
$$

我们用两阶段法求解这个LP问题（这个题能直接用对偶单纯形嘛？不行，因为不满足所有检验数小于0）
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{5}$ | $x_{6}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -1      | 5       | 0       | 0       | 0       | 0       | 0    |
| $g$     | 0       | 0       | 0       | 0       | -1      | -1      | 0    |
| $x_{5}$ | 1       | 2       | 0       | 1       | 1       | 0       | 8    |
| $x_{6}$ | 1       | -1      | -1      | 0       | 0       | 1       | 4    |

初始化
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{5}$ | $x_{6}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -1      | 5       | 0       | 0       | 0       | 0       | 0    |
| $g$     | 2       | 1       | -1      | 1       | 0       | 0       | 12   |
| $x_{5}$ | 1       | 2       | 0       | 1       | 1       | 0       | 8    |
| $x_{6}$ | 1       | -1      | -1      | 0       | 0       | 1       | 4    |

$\zeta_{k}$ = 2, $x_{1}$ 进基，计算 $min\{\frac{8}{1},\frac{4}{1}\}$ = 4, $x_{6}$ 出基
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{5}$ | $x_{6}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -1      | 5       | 0       | 0       | 0       | 0       | 0    |
| $g$     | 0       | 3       | 1       | 1       | 0       | -2      | 4    |
| $x_{5}$ | 0       | 3       | 1       | 1       | 1       | -1      | 4    |
| $x_{1}$ | 1       | -1      | -1      | 0       | 0       | 1       | 4    |

$\zeta_{k}$ = 3, $x_{2}$ 进基，计算 $min\{\frac{4}{3}\}$ = 4/3, $x_{5}$ 出基
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{5}$ | $x_{6}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -1      | 5       | 0       | 0       | 0       | 0       | 0    |
| $g$     | 0       | 0       | 0       | 0       | -1      | -1      | 0    |
| $x_{2}$ | 0       | 1       | 1/3     | 1/3     | 1/3     | -1/3    | 4/3  |
| $x_{1}$ | 1       | 0       | -2/3    | 1/3     | 1/3     | 2/3     | 16/3 |

删去 $x_{5},x_{6}$,
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | -1      | 5       | 0       | 0       | 0    |
| $x_{2}$ | 0       | 1       | 1/3     | 1/3     | 4/3  |
| $x_{1}$ | 1       | 0       | -2/3    | 1/3     | 16/3 |

简单化简可得
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | 0       | 0       | -7/3    | -4/3    | -4/3 |
| $x_{2}$ | 0       | 1       | 1/3     | 1/3     | 4/3  |
| $x_{1}$ | 1       | 0       | -2/3    | 1/3     | 16/3 |

得到最优解为 $x = (16/3, 4/3)^{T}$, 显然这不是一个整数，我们进行分解生成割平面条件
$$
\frac{1}{3}x_{3} + \frac{1}{3}x_{4} \geq \frac{1}{3}
$$

等价条件为
$$
x_{2} \leq 1
$$

加入约束条件中，再进行求解，运用单纯形法
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{7}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | 0       | 0       | -7/3    | -4/3    | 0       | -4/3 |
| $x_{2}$ | 0       | 1       | 1/3     | 1/3     | 0       | 4/3  |
| $x_{1}$ | 1       | 0       | -2/3    | 1/3     | 0       | 16/3 |
| $x_{6}$ | 0       | 1       | 0       | 0       | 1       | 1    |

化简得
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{7}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | 0       | 0       | -7/3    | -4/3    | 0       | -4/3 |
| $x_{2}$ | 0       | 1       | 1/3     | 1/3     | 0       | 4/3  |
| $x_{1}$ | 1       | 0       | -2/3    | 1/3     | 0       | 16/3 |
| $x_{6}$ | 0       | 0       | -1/3    | -1/3    | 1       | -1/3 |

需要用对偶单纯形法求解（为什么？因为等式右端出现负数）
$b_{r} = -1/3$ ， $x_{7}$ 为离基变量 ， $min\{\frac{-7/3}{-1/3}，\frac{-4/3}{-1/3}\} = 4$ , $x_{4}$ 进基，进行高斯消去
|         | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{7}$ | $b$  |
| ------- | ------- | ------- | ------- | ------- | ------- | ---- |
| $z$     | 0       | 0       | -1      | 0       | -4      | 0    |
| $x_{2}$ | 0       | 1       | 0       | 0       | 1       | 1    |
| $x_{1}$ | 1       | 0       | -1      | 0       | 1       | 5    |
| $x_{7}$ | 0       | 0       | 1       | 1       | -3      | 1    |

得到结果 $x_{1} = 5, x_{2} = 1$ ，over!

## 2.2 分枝定界法

运用分枝定界法求解ILP问题的本质在于“巧妙”的枚举，如果无脑枚举的话，一旦面对复杂的规划问题，计算量无疑是巨大的。

核心思想与算法是先对松弛的LP问题求最优解，得到一个结果，若结果不是一个整数，记为 $(a, b)$ ，那么接下来构造两个LP问题，对这两个LP问题分别添加约束 $x \leq [a]$, $x \geq [a]+1$ ，以此类推，不断切割平面，最后得到最优解。具体的例子可以看一下书本P97-100。

# 3 非线性规划

在非线性规划中，性质比较良好的是凸优化，因为对于凸规划问题，局部最优一定是全局最优。

## 3.1 什么是凸函数？怎么判断凸函数？

**凸函数的定义**：S为一个凸集，下面函数f是一个凸函数，若取严格小于号，是严格凸函数
$$
f(\alpha x^{1} + (1-\alpha)x^{2}) \leq \alpha f(x^{1}) + (1-\alpha)f(x^{2}),  \quad \forall x^{1}, x^{2} \in S
$$

**判断凸函数的充要条件**：

1. $ \nabla f(x^{1})^{T}(x^{2}-x^{1}) \leq f(x^{2}) - f(x^{1}), \quad  \forall x^{1}, x^{2} \in S$
2.  $f$ 的Hessian矩阵在S上半正定，也即下面函数的所有Eigenvalue大于等于0（求主子式也是ok的！）
$$
\nabla^{2} f(x) = 
\begin{vmatrix}
\frac{ \partial^{2} f(x)}{\partial x_{1}^{2}} & \frac{ \partial^{2} f(x)}{\partial x_{1}\partial x_{2}} & ... &  \frac{ \partial^{2} f(x)}{\partial x_{1}\partial x_{n}}  \\
\frac{ \partial^{2} f(x)}{\partial x_{2} \partial x_{1}} & \frac{ \partial^{2} f(x)}{\partial x_{2}^{2}} & ... &  \frac{ \partial^{2} f(x)}{\partial x_{2}\partial x_{n}}  \\
... & ...& ... &  ... \\
\frac{ \partial^{2} f(x)}{\partial x_{n}\partial x_{1}}& \frac{ \partial^{2} f(x)}{\partial x_{n}\partial x_{2}} & ... &  \frac{ \partial^{2} f(x)}{\partial x_{n} ^{2}}  \\
\end{vmatrix}
$$

如果我们想要验证一个规划问题是凸规划，可以采用上面的方法，当然，个人偏向于利用Hessian矩阵，再求Eigenvalue的方式。

## 3.2 一维搜索
一维搜索适用的模型是目标函数为单变量时的非线性规划问题。
$$
min \quad \phi (t)
$$
t取值大于等于0时为一维搜索问题， $0 \leq t \leq t_{max}$ 时为有效一维搜索问题。
### 3.2.1 0.618求解法
适用范围：寻找单谷函数（区间上只有唯一的极小点的函数）的极小点
核心思路：在区间 $[a,b]$ 上两点 $t_{1} < t_{2}$ ,若 $\phi (t_{1}) \leq \phi (t_{2})$ ,则更新后的区间为 $[a,  t_{2}]$ ，若 $\phi (t_{1}) \geq \phi (t_{2})$ ,则更新后的区间为 $[t_{1}, b]$ , 不断迭代缩小区间即可。
为什么0.618？本质上是希望在不清楚函数的情况下尽快缩小区间，所以我们让 $t_{2} - a = b - t_{1}$ ,然后在下一次迭代的过程中，区间仍缩小相同的比，联立一下就可以得到0.618了。

[highlight]**求解方法：**[/highlight]

* 确定单谷区间与最后的精度
*  $t_{1} = 0.382b + 0.618a$,   $t_{2} = 0.382a + 0.618b$, $\phi_{1} = \phi (t_{1}), \phi_{2} = \phi (t_{2})$
* 若 $\phi_{1} \leq \phi_{2}$ ，转到第四步，否则转到第五步
* 若 $t_{2} - a \leq \epsilon$ , 输出 $t_{1}$ , 否则更新  $b = t_{2}$ , $t_{2} = t_{1}$ , $t_{1} = 0.618a + 0.312b$ ,计算完回到第三步
* 若 $b - t_{1} \leq \epsilon$ , 输出 $t_{2}$ , 否则更新  $a = t_{1}$ , $t_{1} = t_{2}$ , $t_{2} = 0.618b + 0.312a$ ,计算完回到第三步

### 3.2.2 Newton求解法
核心思想：通过考虑点 $t_{k}$ 的二阶Taylor展开g(t)来代替该点的函数，然后求g(t)的最小点 $t_{k+1}$ 代替 $t_{k}$ 不断迭代即可。

## 3.3 UMP问题

一般的求解方法

* UMP局部最优条件 $\nabla f(x^{*})=0$, 增加f是一个可微凸函数的条件，那么这是整体的最优解。
* 最速下降法：取在函数中下降最快的方向，进行一维搜索，不断迭代即可。

上课有几个例子，个人感觉非常棒，很适合理解最速下降！

## 3.4 约束最优化方法

### 3.4.1 怎么写KKT条件？

对于一个约束条件有等式和不等式的凸优化问题，最优解利用拉格朗日乘子法求解。
先写
$$
L(x,\lambda , \mu) = f(x) + \sum_{i=1}^p \lambda_i g_{i}(x) + \sum_{i=1}^q \mu_i h_{i}(x) 
$$
再求微分，并加入互补松紧条件。
简单举个例子，
$$
\begin{cases} 
min \quad f(x_{1}, x_{2}) = (x_{1} - 1)^{2} + (x_{2} - 2)^{2}\\ 
s.t \quad g_{1}(x)  =  x_{1} + x_{2} - 2 \leq 0\\ 
\qquad g_{2}(x)  =  -x_{1} \leq 0\\ 
\qquad g_{3}(x)  =  -x_{2} \leq 0\\ 
\qquad h_{1}(x) = -x_{1} + x_{2} -1 = 0 \\
\end{cases} 
$$

先写出Lagrange函数，


$$
L(x,\lambda , \mu) =  (x_{1} - 1)^{2} + (x_{2} - 2)^{2} + \lambda_{1}(x_{1} + x_{2} - 2) + \lambda_{2}(-x_{1}) + \lambda_{3}( -x_{2}) + \mu (-x_{1} + x_{2} -1)
$$

求微分并加入互补松紧条件，

$$
\begin{cases} 
2(x_{1} - 1) + \lambda_{1} -  \lambda_{2} - \mu = 0 \\
2(x_{2} - 2) + \lambda_{1} -  \lambda_{3} + \mu = 0\\ 
\lambda_{1}(x_{1} + x_{2} - 2) = 0\\ 
\lambda_{2}(-x_{1}) = 0\\ 
\lambda_{3}( -x_{2}) = 0 \\
\mu (-x_{1} + x_{2} -1) = 0 \\
\lambda_{1}, \lambda_{2}, \lambda_{3} \geq 0
\end{cases} 
$$

### 3.4.2 Rest
其他部分不是上课的重点，这里不介绍了，但可以看看书

# 4 动态规划

感觉这一部分和顾老师讲的AI课有一定overlap，基本就是MDP问题相关，举了最短路作为例子，大家应该听了蛮多遍了，所以...要不我就略过了（好吧我承认是我有点累不想写了 :cheems:），遂放篇对小白友好的知乎
https://zhuanlan.zhihu.com/p/139559442

主要内容：Bellman Equation，可靠性问题，最短路问题（值迭代和策略迭代）

当然动态规划个人认为是个非常有趣的方向，在现实中应用是相当广泛的（无论是建模还是求解

ww基本就这样吧，想真正更好的了解运筹学建议还是多看看上面的两本教材，然后进阶的话看看凸优化、数值优化之类的，进一步的就是随机优化、鲁棒优化之类的了，目前暂时没时间学，等暑假有空了再了解了解下点书看看。

Anyway，先祝大家考试顺利，一起进步ouo！<div data-theme-toc="true"> </div>